function loadComments(){
    let xhr = new XMLHttpRequest();
    xhr.open("GET", "/comments/1/");
    xhr.timeout = 1000;
    xhr.onload = function(reponse){
        let comment_container = document.getElementById("comment-section");
        comment_container.innerHTML = xhr.responseText;
    }
    xhr.send();
}

function postComment(){
    console.log("post begin");
    let comment = document.getElementById("comment-box").value;
    console.log(comment);

    if (comment.length === 0){
        return false;
    }

    let formData = new FormData();
    formData.append("comment", comment)

    let xhr = new XMLHttpRequest();
    xhr.open("POST", "/comments/1/");
    xhr.timeout = 1000;
    
    xhr.setRequestHeader("X-CSRFToken", csrftoken); 
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); 
    xhr.send(formData);
    xhr.onload = function(response){
        loadComments();
        document.getElementById("comment-box").value = "";
        console.log("post end");
    }
}